<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 5.4.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">

<link rel="stylesheet" href="https://fonts.loli.net/css?family=Noto Serif SC:300,300italic,400,400italic,700,700italic&display=swap&subset=latin,latin-ext">
<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"austinkh17.github.io","root":"/","scheme":"Gemini","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":true,"show_result":true,"style":"mac"},"back2top":{"enable":true,"sidebar":false,"scrollpercent":true},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":true,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},"path":"search.xml"};
  </script>

  <meta name="description" content="node知识点系列一nodejs是一个基于Chrome JavaScript运行时建立的平台， 用于方便地搭建响应速度快、易于扩展的网络应用。npm和bower都是web包管理器。nodejs 本身自带的框架有限，通过 bower 或者 npm 可以直接调用一些发布到网上的著名的开源模块包。简而言之：nodejs已经集成了npm，通过npm包管理可以安装bower这些前端包管理工具。通过bower">
<meta property="og:type" content="article">
<meta property="og:title" content="node知识点">
<meta property="og:url" content="https://austinkh17.github.io/2021-04-07/node%E7%9F%A5%E8%AF%86%E7%82%B9/index.html">
<meta property="og:site_name" content="Austinkh&#39;s blog">
<meta property="og:description" content="node知识点系列一nodejs是一个基于Chrome JavaScript运行时建立的平台， 用于方便地搭建响应速度快、易于扩展的网络应用。npm和bower都是web包管理器。nodejs 本身自带的框架有限，通过 bower 或者 npm 可以直接调用一些发布到网上的著名的开源模块包。简而言之：nodejs已经集成了npm，通过npm包管理可以安装bower这些前端包管理工具。通过bower">
<meta property="og:locale" content="zh_CN">
<meta property="article:published_time" content="2021-04-07T07:12:16.000Z">
<meta property="article:modified_time" content="2021-04-07T07:37:28.651Z">
<meta property="article:author" content="Austinkh">
<meta property="article:tag" content="node">
<meta name="twitter:card" content="summary">

<link rel="canonical" href="https://austinkh17.github.io/2021-04-07/node%E7%9F%A5%E8%AF%86%E7%82%B9/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : false,
    isPost : true,
    lang   : 'zh-CN'
  };
</script>

  <title>node知识点 | Austinkh's blog</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

<link rel="alternate" href="/atom.xml" title="Austinkh's blog" type="application/atom+xml">
</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">Austinkh's blog</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
      <p class="site-subtitle" itemprop="description">人生没有四季，只有两季。努力就是旺季，不努力就是淡季。</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>首页</a>

  </li>
        <li class="menu-item menu-item-about">

    <a href="/about/" rel="section"><i class="fa fa-user fa-fw"></i>关于</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>标签<span class="badge">20</span></a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>分类<span class="badge">12</span></a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>归档<span class="badge">23</span></a>

  </li>
        <li class="menu-item menu-item-网站导航">

    <a href="/nav/" rel="section"><i class="fa fa-th fa-fw"></i>网站导航</a>

  </li>
        <li class="menu-item menu-item-实验室">

    <a href="/item/" rel="section"><i class="fa fa-archive fa-fw"></i>实验室</a>

  </li>
        <li class="menu-item menu-item-sitemap">

    <a href="/sitemap.xml" rel="section"><i class="fa fa-sitemap fa-fw"></i>站点地图</a>

  </li>
        <li class="menu-item menu-item-commonweal">

    <a href="/404/" rel="section"><i class="fa fa-heartbeat fa-fw"></i>公益 404</a>

  </li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>搜索
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup">
        <div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocapitalize="off"
           placeholder="搜索..." spellcheck="false"
           type="search" class="search-input">
  </div>
  <span class="popup-btn-close">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div id="search-result">
  <div id="no-result">
    <i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>
  </div>
</div>

    </div>
  </div>

</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>
  <div class="reading-progress-bar"></div>

  <a href="https://github.com/austinkh17" class="github-corner" title="Follow me on GitHub" aria-label="Follow me on GitHub" rel="noopener external nofollow noreferrer" target="_blank"><svg width="80" height="80" viewBox="0 0 250 250" aria-hidden="true"><path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"></path></svg></a>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content post posts-expand">
            

    
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://austinkh17.github.io/2021-04-07/node%E7%9F%A5%E8%AF%86%E7%82%B9/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/boy.jpg">
      <meta itemprop="name" content="Austinkh">
      <meta itemprop="description" content="Austinkh's blog">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Austinkh's blog">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          node知识点
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>
              

              <time title="创建时间：2021-04-07 15:12:16 / 修改时间：15:37:28" itemprop="dateCreated datePublished" datetime="2021-04-07T15:12:16+08:00">2021-04-07</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/node/" itemprop="url" rel="index"><span itemprop="name">node</span></a>
                </span>
            </span>

          
            <span class="post-meta-item" title="阅读次数" id="busuanzi_container_page_pv" style="display: none;">
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              <span class="post-meta-item-text">阅读次数：</span>
              <span id="busuanzi_value_page_pv"></span>
            </span>
            <span class="post-meta-item" title="本文字数">
              <span class="post-meta-item-icon">
                <i class="far fa-file-word"></i>
              </span>
              <span>9k</span>
            </span>
            <span class="post-meta-item" title="阅读时长">
              <span class="post-meta-item-icon">
                <i class="far fa-clock"></i>
              </span>
              <span>8 分钟</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
        <h2 id="node知识点系列一"><a href="#node知识点系列一" class="headerlink" title="node知识点系列一"></a>node知识点系列一</h2><p>nodejs是一个基于Chrome JavaScript运行时建立的平台， 用于方便地搭建响应速度快、易于扩展的网络应用。npm和bower都是web包管理器。<br>nodejs 本身自带的框架有限，通过 bower 或者 npm 可以直接调用一些发布到网上的著名的开源模块包。<br>简而言之：nodejs已经集成了npm，通过npm包管理可以安装bower这些前端包管理工具。通过bower关联安装bootstrap这些前端框架。</p>
<h3 id="node安装"><a href="#node安装" class="headerlink" title="node安装"></a>node安装</h3><p>配置npm全局模块的存放路径和cache的路径。<br>如果你希望将以上两个文件夹放在nodejs的主目录下，就在nodejs下建立“node_global”及“node_cache”两个文件夹。<br>然后我们就在cmd中分别键入两行命令，设置路径：<br>npm config set prefix “D:\nodejs\node_global”<br>npm config set cache “D:\nodejs\node_cache”</p>
<p>C:\Users\Administrator\AppData\Roaming\npm\node_modules(未设置默认路径)</p>
<p>在系统环境变量添加系统变量NODE_PATH，输入路径D:\nodejs\node_global\node_modules</p>
<span id="more"></span>

<p>windows下使用npm安装vue-cli后，vue还是不可用是什么原因：<br>用everything找到vue-init所在文件夹，我的是D:\nodejs\node_global，然后把这个加到环境变量Path中</p>
<p>jade模版引擎<br>特点是语法简洁、简单易学、支持嵌入代码、支持多重继承。<br>相对于HTML，Jade中的元素（Element）标记（Tag）没有用“&lt;&gt;”包围，其属性（Attribute）是用“()”括起来的。<br>Jade的元素没有相对应的“开始标记”和“结束标记”。Jade是用“缩进”来描述元素的从属关系（与Python的语法相似）。<br>jade是一款源于Node.js的HTML模板引擎。<br>1.模板引擎<br>2.依赖于JavaScript实现jade到HTML的转换<br>3.供Node使用<br>npm install jade</p>
<p>npm安装产生node_modules文件夹，bower安装产生bower_components文件夹</p>
<p>Bower是一个客户端技术的软件包管理器，它可用于搜索、安装和卸载如JavaScript、HTML、CSS之类的网络资源<br>其他一些建立在Bower基础之上的开发工具，如YeoMan和Grunt<br>准备工作<br>1.安装node环境:node.js<br>npm install bower -g<br>2.安装Git，bower从远程git仓库获取代码包</p>
<p>GitHub是目前最好用的免费开源项目托管平台，bootstrap等项目都是托管在github上的，所以我们现在需要安装一个GIT客户端来下载bootstrap。</p>
<p>Git Bash，打开进入命令行窗口。<br>选择Git的下载目录，也是下载bootstrap存放位置。<br>在Git Bash命令行窗口输入    cd “D:\Imooc”<br>bower install bootstrap</p>
<p>你不喜欢使用它们的命名 bower_components，那么需要你在你需要的目录下创建一个文件“.bowerrc”并且写入如下信息<br>{“directory” : “public/libs”}<br>然后执行：bower install bootstrap<br>这样你下载的内容就会按照你的指定下载到里面了。<br>先创建一个文件，然后在dos使用rename命令，将文件重命名，或者直接在dos中创建改文件，<br>使用命令是：echo &gt;&gt;.bowerrc(windows)</p>
<p>Mongoose是在node.js异步环境下对mongodb进行便捷操作的对象模型工具。<br>如果使用程序操作数据库，就要使用MongoDB驱动。MongoDB驱动实际上就是为应用程序提供的一个接口，不同的语言对应不同的驱动，<br>NodeJS驱动不能应用在其他后端语言中<br>使用require()方法引入mongodb数据库；然后使用MongoClient对象的connect()方法连接mongodb；最后通过node来对mongodb进行异步的增删改查</p>
<p>Mongoose是NodeJS的驱动，不能作为其他语言的驱动。Mongoose有两个特点<br>1、通过关系型数据库的思想来设计非关系型数据库<br>2、基于mongodb驱动，简化操作</p>
<p>Mongooose中，有三个比较重要的概念，分别是Schema、Model、Entity。它们的关系是：Schema生成Model，Model创造Document，<br>Model和Document都可对数据库操作造成影响，但Model比Document更具操作性<br>Schema用于定义数据库的结构。类似创建表时的数据定义(不仅仅可以定义文档的结构和属性，还可以定义文档的实例方法、静态模型方法、<br>复合索引等)，每个Schema会映射到mongodb中的一个collection，Schema不具备操作数据库的能力<br>Model是由Schema编译而成的构造器，具有抽象属性和行为，可以对数据库进行增删查改。Model的每一个实例（instance）就是一个文档document<br>Document是由Model创建的实体，它的操作也会影响数据库</p>
<p>var mongoose = require(‘mongoose’);<br>mongoose.connect(“mongodb://u1:123456@localhost/db1”)</p>
<p>var Schema = mongoose.Schema;<br>var mySchema = new Schema({})<br>//通过mongoose.Schema来调用Schema，然后使用new方法来创建schema对象<br>var MyModel = mongoose.model(‘MyModel’, mySchema);<br>//model()方法的第一个参数是模型名称,mongoose会将集合名称设置为模型名称的小写版。<br>var doc1 = new MyModel({})<br>doc1.save(function (err,doc){})<br>//将创建的文档保存到数据库的集合中</p>
<p>Middleware中间件<br>    1 什么是中间件<br>        中间件是一种控制函数，类似插件，能控制流程中的init、validate、save、remove方法<br>    2 中间件的分类<br>        2.1 Serial串行<br>            串行使用pre方法，执行下一个方法使用next调用<br>                var schema = new Schema(…);<br>                schema.pre(‘save’,function(next){<br>                        //做点什么<br>                        next();<br>                });<br>        2.2 Parallel并行<br>            并行提供更细粒度的操作<br>                var schema = new Schema(…);<br>                schema.pre(‘save’,function(next,done){<br>                        //下一个要执行的中间件并行执行<br>                        next();<br>                        doAsync(done);<br>                });<br>    3 中间件特点<br>        一旦定义了中间件，就会在全部中间件执行完后执行其他操作<br>        使用中间件可以雾化模型，避免异步操作的层层迭代嵌套<br>    4 使用范畴<br>        1.复杂的验证<br>        2.删除有主外关联的doc<br>        3.异步默认<br>        4.某个特定动作触发异步任务，例如触发自定义事件和通知<br>简单的说，中间件就相当于java中的过滤器、拦截器，在执行某个方法前，将其拦截住，也有点像AOP中的前置注入。举个简单的例子，<br>当我们要执行save方法时，我们往往需要对存入的数据进行验证，虽然mongoose提供了safe、strict、schematype、default、validaition验证，<br>但是这些验证都没有提供完善的错误处理或者拦截机制，而利用中间件，可以对错误的数据进行拦截、错误处理、修订等等。<br>比如存入的用户名可能带有代码注入，这时候，通过中间件拦截用户名，给与转义，或进行错误提示、日志记录等。经过中间件的拦截，<br>进入到save方法的数据从理想状态下应该是符合规范且完善的。由此看来，safe、strict、schematype、default、validaition本身就是内部<br>提供的中间件。<br>关于path，其实也是一种中间件，如同xml的path解析，mongoose是针对mongodb数据库的一种orm模型，mongodb是javascript的json数据存储，<br>有的时候，我们并不希望中间件只针对一个操作，而是针对操作对象的某个属性，那么就能使用path快速定位。</p>
<p>var _=require(‘underscore’)<br>_.extend()方法是Underscore.js库提供的一个方法，作用是将sources对象中的所有属性拷贝到destination对象中，并返回destination对象。<br><em>.extend(destination, *sources)<br>从源码可以看出：<br>1).</em>.extend()方法的拷贝是有序的，如果有3个参数，首先将第二个参数中的所有属性拷贝到第一参数对象中，然后将第三个参数中的<br>所有属性拷贝到第一个参数对象中，有相同属性则直接覆盖。<br>2).每次拷贝，如果属性是一个对象，则直接将这个对象赋给第一个参数对应属性，即第一个参数引用这个对象属性。</p>
<p>bower init –&gt; bower.json<br>npm init –&gt; package,json</p>
<p>1、解析body不是nodejs默认提供的，你需要载入body-parser中间件才可以使用req.body<br>此方法通常用来解析POST请求中的数据(或者ajax请求)<br>2、req.params包含路由参数（在URL的路径部分）<br>3、req.query包含URL的查询参数（在URL的？后的参数）</p>
<p>req.param在express中的默认规则是<br>/user/signup/1111?userid=1112<br>{ userid: 1113 }<br>优先从路由中获取参数 即1111，<br>其次路由中无参数，则提交的表单中获取参数，即 1113<br>最后上述二者均无时，从url的？后查询参数中获取，即1112</p>
<p>bodyParser.json(options)  options可选 ， 这个方法返回一个仅仅用来解析json格式的中间件。这个中间件能接受任何body<br>中任何Unicode编码的字符。支持自动的解析gzip和 zlib。<br>bodyParser.urlencoded(options) options可选，这个方法也返回一个中间件，这个中间件用来解析body中的urlencoded字符，<br>只支持utf-8的编码的字符。同样也支持自动的解析gzip和 zlib<br>当extended为false的时候，键值对中的值就为’String’或’Array’形式，为true的时候，则可为任何数据类型。</p>
<p>Nodejs是单线程单进程的，但是有了child_process模块，可以在程序中直接创建子进程，并使用主进程和子进程之间实现通信。<br>1、child_process.spawn(command[, args][, options])<br>command String 将要运行的命令。<br>args Array 字符串参数数组。<br>options 配置对象：<br>cwd String 子进程的当前工作目录。<br>env Object 环境变量键值对。<br>stdio Array|String 子进程的stdio配置。<br>detached Boolean 这个子进程将会变成进程组的领导。<br>uid Number 设置用户进程的ID。<br>gid Number 设置进程组的ID。<br>返回值: ChildProcess对象<br>利用给定的命令以及参数执行一个新的进程，如果没有参数数组，那么args将默认是一个空数组。</p>
<p>2、child_process.exec(command[, options], callback)<br>command String 将要运行的命令，参数使用空格隔开。<br>options 配置对象：<br>cwd String 子进程的当前工作目录。<br>env Object 环境变量键值对。<br>encoding String 字符编码（默认： ‘utf8’）。<br>shell String 将要执行命令的Shell（默认: 在UNIX中为/bin/sh， 在Windows中为cmd.exe， Shell应当能识别 -c 开关在UNIX中，<br>或 /s /c 在Windows中。 在Windows中，命令行解析应当能兼容cmd.exe）。<br>timeout Number 超时时间（默认： 0）。<br>maxBuffer Number 在stdout或stderr中允许存在的最大缓冲（二进制），如果超出那么子进程将会被杀死 （默认: 200*1024）。<br>killSignal String 结束信号（默认：’SIGTERM’）。<br>detached Boolean 这个子进程将会变成进程组的领导。<br>uid Number 设置用户进程的ID。<br>gid Number 设置进程组的ID。<br>callback Function 当子进程执行完毕后将会执行的回调函数，参数有：<br>error Error<br>stdout Buffer<br>stderr Buffer<br>返回值: ChildProcess对象<br>在Shell中运行一个命令，并缓存命令的输出。</p>
<p>从文档里可以得出的一些相同点：<br>1，它们都用于开一个子进程执行指定命令。<br>2，它们都可以自定义子进程的运行环境。<br>3，它们都返回一个ChildProcess对象，所以他们都可以取得子进程的标准输入流，标准输出流和标准错误流 。</p>
<p>不同点：<br>1，接受参数的方式： spawn使用了参数数组，而exec则直接接在命令后。<br>2，子进程返回给Node的数据量： spawn没有限制子进程可以返回给Node的数据大小，而exec则在options配置对象中有maxBuffer参数限制，<br>且默认为200K，如果超出，那么子进程将会被杀死，并报错：Error：maxBuffer exceeded，虽然可以手动调大maxBuffer参数，但是并不被推荐。<br>由此可窥见一番Node.js设置这两个API时的部分本意，spawn应用来运行返回大量数据的子进程，如图像处理，文件读取等。<br>而exec则应用来运行只返回少量返回值的子进程，如只返回一个状态码。<br>3，调用对象： 虽然在官方文档中，两个方法接受的第一个参数标注的都是command，即要执行的命令，但其实不然。<br>spawn接受的第一个参数为文件，而exec接受的第一个参数才是命令。<br>若一定要使用spwan，则应写成require(‘child_process’).spawn(‘cmd.exe’,[‘\s’, ‘\c’, ‘dir’])。<br>4，回调函数： exec方法相比spawn方法，多提供了一个回调函数，可以更便捷得获取子进程输出。这与为返回的ChildProcess对象的<br>stdout或stderr监听data事件来获得输出的区别在于：data事件的方式，会在子进程一有数据时就触发，并把数据返回给Node。<br>而回调函数，则会先将数据缓存在内存中（数据量小于maxBuffer参数），等待子进程运行完毕后，再调用回调函数，并把最终数据交给回调函数。</p>
<p>res.render(file,option)是express中专门渲染视图用的，首先你要在你的app.js或者index.js中设置一下渲染引擎，<br>比如html,jade,handlebars(我自己使用的)，mustache等。然后将视图模板的文件位置放入file,将传入的模板数据放入option对象中，<br>模板引擎就能自己渲染出视图。一般数据是JSON，模板是views目录下的模板文件。</p>
<p>.bowerrc<br>{<br>“directory”:”public/libs”<br>}<br>directory就指定了将包安装到何处，有了这个文件，运行bower install jquery时，就会把jquery安装到public/libs目录下</p>
<p>app.use(express.static(path.join(__dirname, ‘public’)));这句话的意思是制定程序的静态文件目录<br>这个__dirname 已经是获取当前模块文件所在目录的完整绝对路径<br>css与页面加载需要的.js等静态资源文件放到 public 里<br>express 里用 express.static 将这些静态资源的请求指向到 public 目录.<br>public –&gt; libs –&gt; bootstrap/jquery<br>       –&gt; js –&gt; admin.js<br>jade里写script(src=”/js/admin.js”) script(src=”/libs/jquery/dist/jquery.min.js”)</p>
<p>Provisional headers are shown” 是什么意思?<br>这个警告的意思是说：请求的资源可能会被（扩展／或其他什么机制）屏蔽掉。<br>用 chrome://net-internals 来帮助你查找被屏蔽的请求以及可能的原因。</p>
<p>作为模板语言，Jade支持文件的包含include和扩展extend的，分别说明：include比较符合正常思维，<br>什么地方缺某部分包含进来即可；extend则使用先给出整体，再替换局部的模式。<br>一个块就是一个 Jade 的 block ，它将在子模板中实现，同时是支持递归的。<br>Jade 块如果没有内容，Jade 会添加默认内容，下面的代码默认会输出 block scripts, block content, 和 block foot.</p>
<p>PORT=4000 node app或者入口文件app.js来修改端口号</p>
<p>看下npm版本，2.6.1以上才支持npm update -g<br>更新npm版本的方法是<br>npm install npm@latest -g</p>
<p>npm init [-f|–force|-y|–yes]<br>init指令会询问一系列的问题，并将你的配置写成一个package.json文件。如果使用了-f|–force|-y|–yes这些参数，<br>那么会生成一个默认的package.json文件。</p>
<h2 id="node知识点系列二"><a href="#node知识点系列二" class="headerlink" title="node知识点系列二"></a>node知识点系列二</h2><p>win+r –&gt; cmd –&gt; d:–&gt; cd nodejs\pro –&gt; node server.js</p>
<p>npm install express<br>以上命令会将 Express 框架安装在当前目录的 node_modules 目录中， node_modules 目录下会自动创建 express 目录。<br>以下几个重要的模块是需要与 express 框架一起安装的：<br>body-parser - node.js 中间件，用于处理 JSON, Raw, Text 和 URL 编码的数据。<br>cookie-parser - 这就是一个解析Cookie的工具。通过req.cookies可以取到传过来的cookie，并把它们转成对象。<br>multer - node.js 中间件，用于处理 enctype=”multipart/form-data”（设置表单的MIME编码）的表单数据。</p>
<p>npm install body-parser<br>npm install cookie-parser<br>npm install multer </p>
<p>npm install express -g//全局安装<br>npm install express-generator -g//express控制器</p>
<p>由于http协议是无状态的，所以服务器就无法跟踪会话了，采用cookie和session来弥补不足<br>当发起http请求，客户端发送当前域下的cookie，服务器解析cookie拿到信息，这些cookie存储在服务器里<br>而session是存储在服务端，当客户端发送过来的带有唯一标识就是sessionid，则去找出这个session，没有则创建一条会话session，<br>然后将cookie和请求的数据返回给客户端</p>
<p>name: 设置 cookie 中保存 session id 的字段名称，默认为connect.sid<br>secret: 通过设置 secret 来计算 hash 值并放在 cookie 中，使产生的 signedCookie 防篡改<br>resave: 如果为true，则每次请求都重新设置session的 cookie，假设你的cookie是10分钟过期，每次请求都会再设置10分钟<br>saveUninitialized: 如果为true, 则无论有没有session的cookie，每次请求都设置个session cookie</p>
<p>npm install morgan –save<br>var logger = require(‘morgan’);<br>if (‘development’ === app.get(‘env’)) //获取环境变量判断是开发环境{<br>  app.set(‘showStackError’, true); // 显示错误信息<br>  app.use(logger(‘:method :url :status’); // 打印express路由的信息并预置格式<br>  app.locals.pretty = true; // 设置网页源码格式为非压缩，可读<br>  mongoose.set(‘debug’, true);  //打开mongoDb调试模式<br>}</p>
<p>Query.populate(path, [select], [model], [match], [options])</p>
<p>exec()方法用于检索字符串中的正则表达式的匹配。</p>
<p>doctype html<br>html(lang=’en’)<br>  head<br>    title= hellojade<br>    style.<br>      section {<br>        margin: 20px auto;<br>        border:1px #eaeaea solid;<br>        width:80%;<br>        height:200px; }<br>      section div {<br>        margin: 10px; }<br>  body</p>
<p>npm install nrm -g<br>开发的npm registry 管理工具 nrm,  能够查看和切换当前使用的registry<br>$ nrm ls</p>
<ul>
<li><p>npm —- <a target="_blank" rel="noopener external nofollow noreferrer" href="https://registry.npmjs.org/">https://registry.npmjs.org/</a><br>cnpm — <a target="_blank" rel="noopener external nofollow noreferrer" href="http://r.cnpmjs.org/">http://r.cnpmjs.org/</a><br>eu —– <a target="_blank" rel="noopener external nofollow noreferrer" href="http://registry.npmjs.eu/">http://registry.npmjs.eu/</a><br>au —– <a target="_blank" rel="noopener external nofollow noreferrer" href="http://registry.npmjs.org.au/">http://registry.npmjs.org.au/</a><br>sl —– <a target="_blank" rel="noopener external nofollow noreferrer" href="http://npm.strongloop.com/">http://npm.strongloop.com/</a><br>nj —– <a target="_blank" rel="noopener external nofollow noreferrer" href="https://registry.nodejitsu.com/">https://registry.nodejitsu.com/</a><br>$ nrm use cnpm //switch registry to cnpm</p>
<p>Registry has been set to: <a target="_blank" rel="noopener external nofollow noreferrer" href="http://r.cnpmjs.org/">http://r.cnpmjs.org/</a></p>
</li>
</ul>

    </div>

    
    
    
      
  <div class="popular-posts-header">相关文章推荐</div>
  <ul class="popular-posts">
    <li class="popular-posts-item">
      <div class="popular-posts-title"><a href="\2021-04-20\使用nvm管理node版本\" rel="bookmark">使用nvm管理node版本</a></div>
    </li>
  </ul>

        <div class="reward-container">
  <div>您的支持，就是对我最大的鼓励(●′ω`●)</div>
  <button onclick="var qr = document.getElementById('qr'); qr.style.display = (qr.style.display === 'none') ? 'block' : 'none';">
    打赏
  </button>
  <div id="qr" style="display: none;">
      
      <div style="display: inline-block;">
        <img src="/images/wechatpay.jpg" alt="Austinkh 微信支付">
        <p>微信支付</p>
      </div>

  </div>
</div>

        

<div>
<ul class="post-copyright">
  <li class="post-copyright-author">
    <strong>本文作者： </strong>Austinkh
  </li>
  <li class="post-copyright-link">
    <strong>本文链接：</strong>
    <a href="https://austinkh17.github.io/2021-04-07/node%E7%9F%A5%E8%AF%86%E7%82%B9/" title="node知识点">https://austinkh17.github.io/2021-04-07/node知识点/</a>
  </li>
  <li class="post-copyright-license">
    <strong>版权声明： </strong>本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" rel="noopener external nofollow noreferrer" target="_blank"><i class="fab fa-fw fa-creative-commons"></i>BY-NC-SA</a> 许可协议。转载请注明出处！
  </li>
</ul>
</div>


      <footer class="post-footer">
          
          <div class="post-tags">
              <a href="/tags/node/" rel="tag"><i class="fa fa-tag"></i> node</a>
          </div>

        


        
    <div class="post-nav">
      <div class="post-nav-item">
    <a href="/2021-04-07/mpvue%E7%9F%A5%E8%AF%86%E7%82%B9/" rel="prev" title="mpvue知识点">
      <i class="fa fa-chevron-left"></i> mpvue知识点
    </a></div>
      <div class="post-nav-item">
    <a href="/2021-04-07/mongodb%E7%9F%A5%E8%AF%86%E7%82%B9/" rel="next" title="mongodb知识点">
      mongodb知识点 <i class="fa fa-chevron-right"></i>
    </a></div>
    </div>
      </footer>
    
  </article>
  
  
  



          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
          <div class="post-toc motion-element"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#node%E7%9F%A5%E8%AF%86%E7%82%B9%E7%B3%BB%E5%88%97%E4%B8%80"><span class="nav-number">1.</span> <span class="nav-text">node知识点系列一</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#node%E5%AE%89%E8%A3%85"><span class="nav-number">1.1.</span> <span class="nav-text">node安装</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#node%E7%9F%A5%E8%AF%86%E7%82%B9%E7%B3%BB%E5%88%97%E4%BA%8C"><span class="nav-number">2.</span> <span class="nav-text">node知识点系列二</span></a></li></ol></div>
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="Austinkh"
      src="/images/boy.jpg">
  <p class="site-author-name" itemprop="name">Austinkh</p>
  <div class="site-description" itemprop="description">Austinkh's blog</div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">23</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
          
        <span class="site-state-item-count">12</span>
        <span class="site-state-item-name">分类</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
          
        <span class="site-state-item-count">20</span>
        <span class="site-state-item-name">标签</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author motion-element">
      <span class="links-of-author-item">
        <a href="https://github.com/austinkh17" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;austinkh17" rel="noopener external nofollow noreferrer" target="_blank"><i class="fab fa-github fa-fw"></i>GitHub</a>
      </span>
      <span class="links-of-author-item">
        <a href="mailto:2512630806@qq.com" title="E-Mail → mailto:2512630806@qq.com" rel="noopener external nofollow noreferrer" target="_blank"><i class="fa fa-envelope fa-fw"></i>E-Mail</a>
      </span>
  </div>


  <div class="links-of-blogroll motion-element">
    <div class="links-of-blogroll-title"><i class="fa fa-link fa-fw"></i>
      友情链接
    </div>
    <ul class="links-of-blogroll-list">
        <li class="links-of-blogroll-item">
          <a href="https://github.com/austinkh17" title="https:&#x2F;&#x2F;github.com&#x2F;austinkh17" rel="noopener external nofollow noreferrer" target="_blank">个人github</a>
        </li>
    </ul>
  </div>

    <div class="links-of-blogroll motion-element links-of-blogroll-block">
      <div class="links-of-blogroll-title">
        <!-- modify icon to fire by szw -->
        <i class="fa fa-history fa-" aria-hidden="true"></i>
        近期文章
      </div>
      <ul class="links-of-blogroll-list">
        
        
        
          <li>
            <a href="/2021-04-28/JetBrains%20%E5%85%A8%E5%AE%B6%E6%A1%B6%E6%97%A0%E9%99%90%E8%AF%95%E7%94%A8%E6%8F%92%E4%BB%B6/" title="JetBrains 全家桶无限试用插件" target="_blank">JetBrains 全家桶无限试用插件</a>
          </li>
        
          <li>
            <a href="/2021-04-27/2021%E6%9C%80%E6%96%B0%E5%89%8D%E7%AB%AF%E9%9D%A2%E8%AF%95%E6%80%BB%E7%BB%93/" title="2021最新前端面试总结" target="_blank">2021最新前端面试总结</a>
          </li>
        
          <li>
            <a href="/2021-04-26/%E5%9F%BA%E4%BA%8Evite%E6%90%AD%E5%BB%BA%E7%9A%84vue3%E9%A1%B9%E7%9B%AE/" title="基于vite搭建的vue3项目" target="_blank">基于vite搭建的vue3项目</a>
          </li>
        
          <li>
            <a href="/2021-04-25/electron%E5%B0%86vue%E6%89%93%E5%8C%85%E6%88%90exe%E5%88%9D%E4%BD%93%E9%AA%8C/" title="electron将vue打包成exe初体验" target="_blank">electron将vue打包成exe初体验</a>
          </li>
        
          <li>
            <a href="/2021-04-22/typescript%E9%97%AE%E9%A2%98%E6%B1%87%E6%80%BB/" title="typescript问题汇总" target="_blank">typescript问题汇总</a>
          </li>
        
      </ul>
    </div>

      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2021</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Austinkh</span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item-icon">
      <i class="fa fa-chart-area"></i>
    </span>
    <span title="站点总字数">55k</span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item-icon">
      <i class="fa fa-coffee"></i>
    </span>
    <span title="站点阅读时长">50 分钟</span>
</div>

        
<div class="busuanzi-count">
  <script async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
    <span class="post-meta-item" id="busuanzi_container_site_uv" style="display: none;">
      <span class="post-meta-item-icon">
        <i class="fa fa-user"></i>
      </span>
      <span class="site-uv" title="总访客量">
        <span id="busuanzi_value_site_uv"></span>
      </span>
    </span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item" id="busuanzi_container_site_pv" style="display: none;">
      <span class="post-meta-item-icon">
        <i class="fa fa-eye"></i>
      </span>
      <span class="site-pv" title="总访问量">
        <span id="busuanzi_value_site_pv"></span>
      </span>
    </span>
</div>








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/pisces.js"></script>


<script src="/js/next-boot.js"></script>




  




  
<script src="/js/local-search.js"></script>













  

  


  <script async src="/js/cursor/fireworks.js"></script>




  <script src="/js/activate-power-mode.min.js"></script>
  <script>
    POWERMODE.colorful = true;
    POWERMODE.shake = true;
    document.body.addEventListener('input', POWERMODE);
  </script>

</body>
</html>
